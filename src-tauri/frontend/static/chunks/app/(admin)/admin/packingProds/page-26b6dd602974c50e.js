(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4951],{30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>c,r:()=>l});var r=a(95155);a(12115);var s=a(99708),i=a(74466),n=a(59434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:a,size:i,asChild:c=!1,...d}=e,o=c?s.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:(0,n.cn)(l({variant:a,size:i,className:t})),...d})}},43507:(e,t,a)=>{Promise.resolve().then(a.bind(a,84004)),Promise.resolve().then(a.bind(a,65103))},51479:(e,t,a)=>{"use strict";a.d(t,{Y:()=>s});var r=a(34477);let s=(0,r.createServerReference)("7fc87cf037caec16e3b2f0f55c076a2262b17e41cc",r.callServer,void 0,r.findSourceMapURL,"deletePackingMaterial")},56549:(e,t,a)=>{"use strict";a.d(t,{p:()=>d});var r=a(65453),s=a(46786),i=a(56671),n=a(34477);let l=(0,n.createServerReference)("7fc3aac7dbff1dc91c79a03562f283bd522b3187af",n.callServer,void 0,n.findSourceMapURL,"getPackingMaterials");var c=a(51479);let d=(0,r.v)()((0,s.lt)((0,s.Zr)(e=>({materials:[],isLoading:!1,setMaterials:t=>{e({materials:t,isLoading:!1})},fetchMaterials:async()=>{e({isLoading:!0});let t=await l();t.success&&t.data?e({materials:t.data}):console.error(t.message||"Failed to fetch materials from store."),e({isLoading:!1})},deleteMaterial:async t=>{let a=await (0,c.Y)(t);a.success?(e(e=>({materials:e.materials.filter(e=>e._id.toString()!==t)})),i.oR.success("Packing Material deleted.")):i.oR.error(a.message||"Failed to delete packing material.")}}),{name:"packing-material-storage",partialize:e=>({materials:e.materials})})))},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var r=a(52596),s=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(95155);a(12115);var s=a(59434);function i(e){let{className:t,type:a,...i}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},65103:(e,t,a)=>{"use strict";a.d(t,{PackingItemsTable:()=>b});var r=a(95155),s=a(6874),i=a.n(s),n=a(12115),l=a(72897),c=a(56549),d=a(30285),o=a(85127),u=a(62523),x=a(37108),m=a(51154),h=a(89917),g=a(62525);function b(e){let{initialMaterials:t}=e,{materials:a,setMaterials:s,deleteMaterial:b,isLoading:f}=(0,c.p)(),[v,p]=(0,n.useTransition)(),[j,y]=(0,n.useState)(null),[N,w]=(0,n.useState)(""),k=(0,l.d)(N,300);(0,n.useEffect)(()=>{s(t)},[t,s]);let A=a.filter(e=>{let t=k.toLowerCase(),a=e.capacityVolume.toString();return e.name.toLowerCase().includes(t)||e.manufacturerName.toLowerCase().includes(t)||a.includes(t)}),S=e=>{window.confirm("Are you sure you want to delete this packing material?")&&(y(e),p(async()=>{await b(e),y(null)}))};return(0,r.jsxs)("div",{className:"p-4 bg-gray-900 rounded-lg shadow-xl border border-gray-700",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold text-white flex items-center",children:[(0,r.jsx)(x.A,{className:"mr-2 h-6 w-6 text-blue-400"}),"Packing Materials"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(u.p,{placeholder:"Search materials...",value:N,onChange:e=>w(e.target.value),className:"max-w-sm bg-gray-800 text-white border-gray-600 focus:border-blue-500"}),(0,r.jsx)(d.$,{asChild:!0,className:"bg-blue-100 hover:bg-blue-200",children:(0,r.jsxs)(i(),{href:"/admin/packingProds/add",children:["Add Product",f&&(0,r.jsx)(m.A,{className:"ml-2 h-4 w-4 animate-spin"})]})})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto rounded-md border border-gray-700",children:(0,r.jsxs)(o.XI,{children:[(0,r.jsx)(o.A0,{className:"bg-gray-800",children:(0,r.jsxs)(o.Hj,{className:"border-gray-700 hover:bg-gray-800",children:[(0,r.jsx)(o.nd,{className:"text-gray-400",children:"Name of Product"}),(0,r.jsx)(o.nd,{className:"text-gray-400",children:"Volume/Capacity"}),(0,r.jsx)(o.nd,{className:"text-gray-400",children:"Manufacturer Name"}),(0,r.jsx)(o.nd,{className:"text-gray-400 text-right",children:"Purchased Qty"}),(0,r.jsx)(o.nd,{className:"text-gray-400 text-right",children:"Balance"}),(0,r.jsx)(o.nd,{className:"text-gray-400 text-center",children:"Actions"})]})}),(0,r.jsxs)(o.BF,{children:[f&&(0,r.jsx)(o.Hj,{children:(0,r.jsxs)(o.nA,{colSpan:6,className:"h-24 text-center text-blue-400",children:[(0,r.jsx)(m.A,{className:"h-6 w-6 animate-spin mx-auto"}),"Loading Materials..."]})}),!f&&A.length>0?A.map(e=>(0,r.jsxs)(o.Hj,{className:"border-gray-800 hover:bg-gray-800/50",children:[(0,r.jsx)(o.nA,{className:"font-medium text-white",children:e.name}),(0,r.jsxs)(o.nA,{className:"text-gray-300",children:[e.capacityVolume," ",e.capacityUnit.name]}),(0,r.jsx)(o.nA,{className:"text-gray-300",children:e.manufacturerName}),(0,r.jsx)(o.nA,{className:"text-right text-yellow-400 font-semibold",children:e.purchasedQuantity}),(0,r.jsx)(o.nA,{className:"text-right font-bold ".concat(e.balance<50?"text-red-500":"text-green-400"),children:e.balance}),(0,r.jsx)(o.nA,{className:"text-center",children:(0,r.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,r.jsx)(d.$,{variant:"outline",size:"icon",className:"h-8 w-8 text-blue-400 border-blue-400 hover:bg-blue-900",asChild:!0,children:(0,r.jsx)(i(),{href:"/admin/packingProds/edit/".concat(e._id.toString()),children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})}),(0,r.jsx)(d.$,{variant:"destructive",size:"icon",className:"h-8 w-8",onClick:()=>S(e._id.toString()),disabled:v&&j===e._id.toString(),children:v&&j===e._id.toString()?(0,r.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(g.A,{className:"h-4 w-4"})})]})})]},e._id.toString())):!f&&(0,r.jsx)(o.Hj,{children:(0,r.jsx)(o.nA,{colSpan:6,className:"h-24 text-center text-gray-500",children:"No packing materials found."})})]})]})})]})}},72897:(e,t,a)=>{"use strict";a.d(t,{d:()=>s});var r=a(12115);function s(e,t){let[a,s]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let a=setTimeout(()=>s(e),t||500);return()=>{clearTimeout(a)}},[e,t]),a}},84004:(e,t,a)=>{"use strict";a.d(t,{HydratePackingMaterialStore:()=>i});var r=a(56549),s=a(12115);function i(e){let{initialMaterials:t}=e,a=(0,s.useRef)(!1),i=(0,r.p)(e=>e.setMaterials);return(0,s.useEffect)(()=>{a.current||(i(t),a.current=!0)},[t,i]),null}},85127:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>l,Hj:()=>c,XI:()=>i,nA:()=>o,nd:()=>d});var r=a(95155);a(12115);var s=a(59434);function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",t),...a})})}function n(e){let{className:t,...a}=e;return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2848,6671,6874,1785,8441,1684,7358],()=>t(43507)),_N_E=e.O()}]);