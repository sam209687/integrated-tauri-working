(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8976],{3759:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(95155),s=r(35695),n=r(12115),i=r(56671),l=r(34477);let o=(0,l.createServerReference)("7f6eaeb43f6ce2916064973353cfd45a18326e08fc",l.callServer,void 0,l.findSourceMapURL,"deleteProduct");var d=r(13770),c=r(30285),u=r(13717),h=r(62525),v=r(21492);let g=e=>{let{row:t,onDelete:r,loading:n}=e,i=(0,s.useRouter)();return(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(c.$,{variant:"outline",size:"icon",onClick:()=>i.push("/admin/products/edit?id=".concat(t.original._id)),children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)(c.$,{variant:"destructive",size:"icon",onClick:()=>r(t.original._id),disabled:n,children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})]})},x=(e,t)=>[{accessorKey:"productName",header:e=>{let{column:t}=e;return(0,a.jsxs)(c.$,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Product Name",(0,a.jsx)(v.A,{className:"ml-2 h-4 w-4"})]})}},{accessorKey:"category.name",header:"Category"},{accessorKey:"totalPrice",header:"Total Price",cell:e=>{var t;let{row:r}=e;return(0,a.jsxs)("span",{children:["â‚¹",(null!=(t=r.original.totalPrice)?t:0).toFixed(2)]})}},{id:"actions",header:"Actions",cell:r=>(0,a.jsx)(g,{row:r.row,onDelete:e,loading:t})}],m=e=>{let{products:t}=e,r=(0,s.useRouter)(),[l,c]=(0,n.useState)(!1),[u,h]=(0,n.useState)(t);(0,n.useEffect)(()=>{h(t)},[t]);let v=x(async e=>{c(!0);let t=await o(e);t.success?(i.oR.success("Product deleted successfully."),h(u.filter(t=>t._id.toString()!==e)),r.refresh()):i.oR.error(t.message),c(!1)},l);return(0,a.jsx)("div",{children:(0,a.jsx)(d.DataTable,{columns:v,data:u,searchKey:"productName"})})}},13717:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},13770:(e,t,r)=>{"use strict";r.d(t,{DataTable:()=>c});var a=r(95155),s=r(12115),n=r(36268),i=r(11032),l=r(85127),o=r(62523),d=r(30285);function c(e){var t,r,c;let{columns:u,data:h,searchKey:v}=e,[g,x]=(0,s.useState)([]),[m,b]=(0,s.useState)([]),f=(0,n.N4)({data:h,columns:u,getCoreRowModel:(0,i.HT)(),getPaginationRowModel:(0,i.kW)(),onSortingChange:x,getSortedRowModel:(0,i.h5)(),onColumnFiltersChange:b,getFilteredRowModel:(0,i.hM)(),state:{sorting:g,columnFilters:m}});return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center py-4",children:(0,a.jsx)(o.p,{placeholder:"Search by ".concat(v,"..."),value:null!=(c=null==(t=f.getColumn(v))?void 0:t.getFilterValue())?c:"",onChange:e=>{var t;return null==(t=f.getColumn(v))?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm"})}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(l.XI,{children:[(0,a.jsx)(l.A0,{children:f.getHeaderGroups().map(e=>(0,a.jsx)(l.Hj,{children:e.headers.map(e=>(0,a.jsx)(l.nd,{children:e.isPlaceholder?null:(0,n.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(l.BF,{children:(null==(r=f.getRowModel().rows)?void 0:r.length)?f.getRowModel().rows.map(e=>(0,a.jsx)(l.Hj,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,a.jsx)(l.nA,{children:(0,n.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(l.Hj,{children:(0,a.jsx)(l.nA,{colSpan:u.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>f.previousPage(),disabled:!f.getCanPreviousPage(),children:"Previous"}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>f.nextPage(),disabled:!f.getCanNextPage(),children:"Next"})]})]})}},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>l});var a=r(95155);r(12115);var s=r(99708),n=r(74466),i=r(59434);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:r,size:n,asChild:o=!1,...d}=e,c=o?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:r,size:n,className:t})),...d})}},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},35965:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.bind(r,3759))},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(52596),s=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(95155);r(12115);var s=r(59434);function n(e){let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},62525:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},85127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>i,BF:()=>l,Hj:()=>o,XI:()=>n,nA:()=>c,nd:()=>d});var a=r(95155);r(12115);var s=r(59434);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",t),...r})})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",t),...r})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2848,6671,6874,460,8441,1684,7358],()=>t(35965)),_N_E=e.O()}]);