(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2737],{10610:(e,t,r)=>{"use strict";r.d(t,{BrandTable:()=>p});var a=r(95155),n=r(66766),s=r(6874),l=r.n(s),i=r(12115),d=r(65453),c=r(34477);let o=(0,c.createServerReference)("6091c6f3f12069e3d9ebc3bd5b672070e8ab20fbac",c.callServer,void 0,c.findSourceMapURL,"deleteBrand"),u=(0,d.v)(e=>({brands:[],setBrands:t=>e({brands:t}),deleteBrand:async(t,r)=>{e(e=>({brands:e.brands.filter(e=>e._id!==t)}));try{await o(t,r)}catch(e){console.error("Failed to delete brand:",e)}}}));var b=r(72897),h=r(30285),v=r(85127),m=r(62523),x=r(89917),f=r(51154),g=r(62525);function p(e){let{initialBrands:t}=e,{brands:r,setBrands:s,deleteBrand:d}=u(),[c,o]=(0,i.useTransition)(),[p,j]=(0,i.useState)(null),[y,w]=(0,i.useState)(""),N=(0,b.d)(y,300);(0,i.useEffect)(()=>{s(t)},[t,s]);let k=r.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())),A=(e,t)=>{window.confirm("Are you sure you want to delete this brand?")&&(j(e),o(()=>{d(e,t).finally(()=>j(null))}))};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(m.p,{placeholder:"Search by brand name...",value:y,onChange:e=>w(e.target.value),className:"w-full md:max-w-sm"}),(0,a.jsx)("div",{className:"rounded-md border overflow-x-auto",children:(0,a.jsxs)(v.XI,{children:[(0,a.jsx)(v.A0,{children:(0,a.jsxs)(v.Hj,{children:[(0,a.jsx)(v.nd,{className:"w-[60px] hidden sm:table-cell",children:"S/No"}),(0,a.jsx)(v.nd,{className:"hidden sm:table-cell",children:"Image"}),(0,a.jsx)(v.nd,{className:"min-w-[150px]",children:"Name"}),(0,a.jsx)(v.nd,{className:"text-right w-[100px] pr-4",children:"Actions"})]})}),(0,a.jsx)(v.BF,{children:k.length>0?k.map((e,t)=>(0,a.jsxs)(v.Hj,{children:[(0,a.jsx)(v.nA,{className:"hidden sm:table-cell",children:t+1}),(0,a.jsx)(v.nA,{className:"hidden sm:table-cell",children:(0,a.jsx)(n.default,{src:e.imageUrl,alt:e.name,width:40,height:40,className:"rounded-md object-cover"})}),(0,a.jsx)(v.nA,{className:"font-medium",children:e.name}),(0,a.jsx)(v.nA,{className:"text-right pr-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(h.$,{variant:"outline",size:"icon",className:"h-8 w-8",asChild:!0,children:(0,a.jsx)(l(),{href:"/admin/brand/edit/".concat(e._id),children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})}),(0,a.jsx)(h.$,{variant:"destructive",size:"icon",className:"h-8 w-8",onClick:()=>A(e._id.toString(),e.imageUrl),disabled:c&&p===e._id.toString(),children:c&&p===e._id.toString()?(0,a.jsx)(f.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(g.A,{className:"h-4 w-4"})})]})})]},e._id.toString())):(0,a.jsx)(v.Hj,{children:(0,a.jsx)(v.nA,{colSpan:4,className:"h-24 text-center",children:"No brands found."})})})]})})]})}},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>i});var a=r(95155);r(12115);var n=r(99708),s=r(74466),l=r(59434);let i=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:s,asChild:d=!1,...c}=e,o=d?n.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,l.cn)(i({variant:r,size:s,className:t})),...c})}},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(52596),n=r(39688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var a=r(95155);r(12115);var n=r(59434);function s(e){let{className:t,type:r,...s}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}},62525:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},65453:(e,t,r)=>{"use strict";r.d(t,{v:()=>d});var a=r(12115);let n=e=>{let t,r=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:a,getState:n,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e))},l=t=e(a,n,s);return s},s=e=>e?n(e):n,l=e=>e,i=e=>{let t=s(e),r=e=>(function(e,t=l){let r=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},d=e=>e?i(e):i},72897:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var a=r(12115);function n(e,t){let[r,n]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let r=setTimeout(()=>n(e),t||500);return()=>{clearTimeout(r)}},[e,t]),r}},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var a=r(52596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.$,l=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:i}=t,d=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],a=null==i?void 0:i[e];if(null===t)return null;let s=n(t)||n(a);return l[e][s]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return s(e,d,null==t||null==(a=t.compoundVariants)?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...c}[t]):({...i,...c})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},75102:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.bind(r,10610))},85127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>l,BF:()=>i,Hj:()=>d,XI:()=>s,nA:()=>o,nd:()=>c});var a=r(95155);r(12115);var n=r(59434);function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,n.cn)("w-full caption-bottom text-sm",t),...r})})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,n.cn)("[&_tr]:border-b",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,n.cn)("[&_tr:last-child]:border-0",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,n.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,n.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,n.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 *:[[role=checkbox]]:translate-y-0.5",t),...r})}},89917:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2848,6874,7895,8441,1684,7358],()=>t(75102)),_N_E=e.O()}]);