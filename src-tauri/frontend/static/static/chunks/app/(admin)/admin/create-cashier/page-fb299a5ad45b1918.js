(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4272],{6840:(e,a,r)=>{Promise.resolve().then(r.bind(r,60330))},30285:(e,a,r)=>{"use strict";r.d(a,{$:()=>d,r:()=>o});var t=r(95155);r(12115);var s=r(99708),i=r(74466),n=r(59434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:a,variant:r,size:i,asChild:d=!1,...l}=e,c=d?s.DX:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,n.cn)(o({variant:r,size:i,className:a})),...l})}},59434:(e,a,r)=>{"use strict";r.d(a,{cn:()=>i});var t=r(52596),s=r(39688);function i(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,s.QP)((0,t.$)(a))}},60330:(e,a,r)=>{"use strict";r.d(a,{CashierCreationForm:()=>v});var t=r(95155),s=r(12115),i=r(62177),n=r(63560),o=r(70927),d=r(35695),l=r(56671),c=r(62523),u=r(85057),h=r(30285);let m=e=>{let{cashierName:a,personalEmail:r,phone:s,aadhaar:i,storeLocation:n,onCashierNameChange:o,onPersonalEmailChange:d,onPhoneChange:l,onAadhaarChange:m,onStoreLocationChange:p,onSubmit:v,isLoading:g,errors:x}=e;return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v()},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.J,{htmlFor:"cashierName",children:"Cashier Name"}),(0,t.jsx)(c.p,{id:"cashierName",value:a,onChange:o,disabled:g}),x.cashierName&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:x.cashierName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.J,{htmlFor:"personalEmail",children:"Personal Email"})," ",(0,t.jsx)(c.p,{id:"personalEmail",type:"email",value:r,onChange:d,disabled:g}),x.personalEmail&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:x.personalEmail})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.J,{htmlFor:"phone",children:"Phone"}),(0,t.jsx)(c.p,{id:"phone",type:"tel",value:s,onChange:l,disabled:g}),x.phone&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:x.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.J,{htmlFor:"aadhaar",children:"Aadhaar (12 digits)"}),(0,t.jsx)(c.p,{id:"aadhaar",type:"text",value:i,onChange:m,disabled:g}),x.aadhaar&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:x.aadhaar})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.J,{htmlFor:"storeLocation",children:"Store Location"}),(0,t.jsx)(c.p,{id:"storeLocation",value:n,onChange:p,disabled:g}),x.storeLocation&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:x.storeLocation})]}),(0,t.jsx)(h.$,{type:"submit",className:"w-full",disabled:g,children:g?"Creating...":"Create Cashier"})]})},p=o.Ik({name:o.Yj().min(1,"Cashier name is required."),personalEmail:o.Yj().email("Invalid personal email address."),phone:o.Yj().regex(/^\d{10}$/,"Phone number must be 10 digits."),aadhaar:o.Yj().regex(/^\d{12}$/,"Aadhaar must be 12 digits."),storeLocation:o.Yj().min(1,"Store location is required.")});function v(){var e,a,r,o,c;let u=(0,d.useRouter)(),[h,v]=(0,s.useState)(!1),g=(0,i.mN)({resolver:(0,n.u)(p),defaultValues:{name:"",personalEmail:"",phone:"",aadhaar:"",storeLocation:""}});async function x(e){v(!0);try{let a=await fetch("/api/admin/cashiers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await a.json();if(!a.ok)throw Error(r.message||"Failed to create cashier.");l.oR.success(r.message),g.reset(),u.push("/admin/manage-cashiers")}catch(a){let e=a instanceof Error?a.message:"An unexpected error occurred.";l.oR.error(e)}finally{v(!1)}}let b={name:null==(e=g.formState.errors.name)?void 0:e.message,personalEmail:null==(a=g.formState.errors.personalEmail)?void 0:a.message,phone:null==(r=g.formState.errors.phone)?void 0:r.message,aadhaar:null==(o=g.formState.errors.aadhaar)?void 0:o.message,storeLocation:null==(c=g.formState.errors.storeLocation)?void 0:c.message};return(0,t.jsx)(m,{cashierName:g.watch("name"),personalEmail:g.watch("personalEmail"),phone:g.watch("phone"),aadhaar:g.watch("aadhaar"),storeLocation:g.watch("storeLocation"),onCashierNameChange:e=>g.setValue("name",e.target.value),onPersonalEmailChange:e=>g.setValue("personalEmail",e.target.value),onPhoneChange:e=>g.setValue("phone",e.target.value),onAadhaarChange:e=>g.setValue("aadhaar",e.target.value),onStoreLocationChange:e=>g.setValue("storeLocation",e.target.value),onSubmit:g.handleSubmit(x),isLoading:h,errors:b})}},62523:(e,a,r)=>{"use strict";r.d(a,{p:()=>i});var t=r(95155);r(12115);var s=r(59434);function i(e){let{className:a,type:r,...i}=e;return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...i})}},63655:(e,a,r)=>{"use strict";r.d(a,{hO:()=>d,sG:()=>o});var t=r(12115),s=r(47650),i=r(99708),n=r(95155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let r=(0,i.TL)(`Primitive.${a}`),s=t.forwardRef((e,t)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(s?r:a,{...i,ref:t})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{});function d(e,a){e&&s.flushSync(()=>e.dispatchEvent(a))}},85057:(e,a,r)=>{"use strict";r.d(a,{J:()=>n});var t=r(95155);r(12115);var s=r(40968),i=r(59434);function n(e){let{className:a,...r}=e;return(0,t.jsx)(s.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...r})}}},e=>{var a=a=>e(e.s=a);e.O(0,[2848,6671,8070,8441,1684,7358],()=>a(6840)),_N_E=e.O()}]);